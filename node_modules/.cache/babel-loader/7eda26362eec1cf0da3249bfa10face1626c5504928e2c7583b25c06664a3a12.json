{"ast":null,"code":"var _jsxFileName = \"/Users/chencheng/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/1dc64184dfec0ae764b796cdaee53fde/Message/MessageTemp/11e579a58271ad70da616d26244756d1/File/react-test/src/components/EventCountdown.js\",\n  _s = $RefreshSig$();\n// 实现n秒倒计时,初始显示n(来自props),每秒递减1,到0时停止倒计时,并显示\"活动开始\"使用函数组件+自定义hooks实现\n// 加分项:使用TS编写\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const EventCountdown = props => {\n  _s();\n  const {\n    timer\n  } = props;\n  const [n, setN] = useState(() => timer);\n  const [show, setShow] = useState(false);\n  let time = useRef(null);\n  useEffect(() => {\n    if (n === 0) {\n      clearInterval(time);\n      setShow(true);\n    }\n    time = setInterval(() => {\n      if (n !== 0) {\n        setN(n - 1);\n      }\n    }, 1000);\n  }, [n]);\n  // console.log(n);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: show ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u6D3B\\u52A8\\u5F00\\u59CB\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 23\n    }, this) : n\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 10\n  }, this);\n};\n_s(EventCountdown, \"glqc2RkRZktcvyxM41zI9AEv6NI=\");\n_c = EventCountdown;\nvar _c;\n$RefreshReg$(_c, \"EventCountdown\");","map":{"version":3,"names":["React","useState","useEffect","useRef","EventCountdown","props","timer","n","setN","show","setShow","time","clearInterval","setInterval"],"sources":["/Users/chencheng/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/1dc64184dfec0ae764b796cdaee53fde/Message/MessageTemp/11e579a58271ad70da616d26244756d1/File/react-test/src/components/EventCountdown.js"],"sourcesContent":["// 实现n秒倒计时,初始显示n(来自props),每秒递减1,到0时停止倒计时,并显示\"活动开始\"使用函数组件+自定义hooks实现\n// 加分项:使用TS编写\nimport React, { useState, useEffect, useRef } from \"react\";\n\nexport const EventCountdown = (props) => {\n  const { timer } = props;\n  const [n, setN] = useState(() => timer);\n  const [show, setShow] = useState(false);\n  let time = useRef(null);\n  useEffect(() => {\n    if (n === 0) {\n      clearInterval(time);\n      setShow(true);\n    }\n    time = setInterval(() => {\n      if (n !== 0) {\n        setN(n - 1);\n      }\n    }, 1000);\n  }, [n]);\n  // console.log(n);\n  return <div>{show ? <div>活动开始</div> : n}</div>;\n};\n"],"mappings":";;AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC;AAE3D,OAAO,MAAMC,cAAc,GAAIC,KAAK,IAAK;EAAA;EACvC,MAAM;IAAEC;EAAM,CAAC,GAAGD,KAAK;EACvB,MAAM,CAACE,CAAC,EAAEC,IAAI,CAAC,GAAGP,QAAQ,CAAC,MAAMK,KAAK,CAAC;EACvC,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACvC,IAAIU,IAAI,GAAGR,MAAM,CAAC,IAAI,CAAC;EACvBD,SAAS,CAAC,MAAM;IACd,IAAIK,CAAC,KAAK,CAAC,EAAE;MACXK,aAAa,CAACD,IAAI,CAAC;MACnBD,OAAO,CAAC,IAAI,CAAC;IACf;IACAC,IAAI,GAAGE,WAAW,CAAC,MAAM;MACvB,IAAIN,CAAC,KAAK,CAAC,EAAE;QACXC,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC;MACb;IACF,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,EAAE,CAACA,CAAC,CAAC,CAAC;EACP;EACA,oBAAO;IAAA,UAAME,IAAI,gBAAG;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAe,GAAGF;EAAC;IAAA;IAAA;IAAA;EAAA,QAAO;AAChD,CAAC;AAAC,GAlBWH,cAAc;AAAA,KAAdA,cAAc;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}